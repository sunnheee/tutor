<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="header::head-fragment('用户信息编辑','userInfoEdit')">
    <meta charset="UTF-8">
    <title>用户信息编辑</title>
</head>
<body>
<header th:replace="header::header-fragment"></header>
<div class="u-i-e-content">
    <div class="u-i-e-content-left">
        <div th:replace="sider::sider-fragment('侧边栏')"></div>
    </div>
    <div class="u-i-e-content-right">
        <div class="content-list">
            <div class="list-title">设置</div>
            <div class="list-content">
                <div class="edit-view">
                    <div class="item flex-view">
                        <input type="hidden" id="userId" th:value="${session.loginUser.userId}">
                        <div class="label">头像</div>
                        <div class="right-box avatar-box flex-view">
                            <img class="avatar-pic" id="avatarImage" src="">
                            <div class="change-tips">
                        <span class="change-avatar">
                            <button id="uploadUserAvatar" class="upload-btn">
                                点击更换头像</button>
                        </span>
                                <div class="tip">图片格式支持 GIF、PNG、JPEG，尺寸不小于 200 PX，小于 4 MB</div>
                            </div>
                        </div>
                    </div>
                    <div class="item flex-view">
                        <div class="label">昵称</div>
                        <div class="right-box">
                            <th:block th:unless="${session.loginUser.nickname == null}">
                                <input type="text" id="nickname" placeholder="请输入昵称" maxlength="20" class="input-dom" th:value="${session.loginUser.nickname}">
                            </th:block>
                            <th:block th:if="${session.loginUser.nickname == null}">
                                <input type="text" id="nickname" placeholder="请输入昵称" maxlength="20" class="input-dom">
                            </th:block>
                            <p class="tip">支持中英文，长度不能超过 20 个字符</p>
                        </div>
                    </div>
                    <div class="item flex-view">
                        <div class="label">手机号</div>
                        <div class="right-box">
                            <th:block th:unless="${session.loginUser.nickname == null}">
                                <input type="text" id="phone" placeholder="请输入手机号" maxlength="11" class="input-dom" th:value="${session.loginUser.phone}">
                            </th:block>
                            <th:block th:if="${session.loginUser.nickname == null}">
                                <input type="text" id="phone" placeholder="请输入手机号" maxlength="11" class="input-dom">
                            </th:block>
                        </div>
                    </div>
                    <div class="item flex-view">
                        <div class="label">邮箱</div>
                        <div class="right-box">
                            <th:block th:unless="${session.loginUser.userEmail == null}">
                                <input type="text" id="email" placeholder="请输入邮箱" maxlength="100" class="input-dom" th:value="${session.loginUser.userEmail}">
                            </th:block>
                            <th:block th:if="${session.loginUser.nickname == null}">
                                <input type="text" id="email" placeholder="请输入邮箱" maxlength="100" class="input-dom">
                            </th:block>
                        </div>
                    </div>
                    <div class="item flex-view">
                        <div class="label">个人简介</div>
                        <div class="right-box">
                            <th:block th:unless="${session.loginUser.briefIntroduction == null}">
                                <input type="text" id="briefIntroduction" placeholder="请输入简介" maxlength="200"
                                       class="intro" th:value="${session.loginUser.briefIntroduction}">
                            </th:block>
                            <th:block th:if="${session.loginUser.briefIntroduction == null}">
                                <input type="text" id="briefIntroduction" placeholder="请输入简介" maxlength="200"
                                       class="intro">
                            </th:block>
                            <p class="tip">限制200字以内</p>
                        </div>
                    </div>
                    <button class="save" onclick="saveUserInfo()">保存</button>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script th:src="@{/jquery.min.js}"></script>
<script th:src="@{/plugins/sweetalert/sweetalert.min.js}"></script>
<script th:src="@{/plugins/ajaxupload/ajaxupload.js}"></script>
<script th:src="@{/js/userInfoEdit.js}"></script>
<script th:src="@{/js/headerConf.js}"></script>
<script></script>
</html>